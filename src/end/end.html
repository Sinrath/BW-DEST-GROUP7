<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>VR Escape Room - Completion</title>
    <meta name="description" content="VR Escape Room Completion - Prototype Showcase">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>

    <!-- A-Frame Extras (movement controls and collision) -->
    <script src="../../aframe-extras/dist/aframe-extras.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@1.0.0/dist/aframe-look-at-component.min.js"></script>

    <script src="../shared/movement.js"></script>
    <script src="end.js"></script>

</head>
<body>

<a-scene background="color: #000810"
         vr-mode-ui="enabled: true">

    <!-- Assets -->
    <a-assets>
        <a-asset-item id="trophy" src="../../models/trophy.glb"></a-asset-item>
    </a-assets>

    <!-- Lighting for celebration -->
    <a-light type="ambient" color="#ffffff" intensity="0.5"></a-light>
    <a-light type="directional" position="2 4 2" color="#gold" intensity="1.5"></a-light>
    <a-light type="point" position="0 3 0" color="#FFD700" intensity="2" distance="15"></a-light>
    <a-light type="point" position="5 2 5" color="#FF69B4" intensity="1.2" distance="10"></a-light>
    <a-light type="point" position="-5 2 -5" color="#00FFFF" intensity="1.2" distance="10"></a-light>

    <!-- Celebration Platform -->
    <a-cylinder position="0 -0.05 0" radius="5.5" height="0.1"
                material="color: #FFA500; metalness: 0.6; roughness: 0.3"></a-cylinder>

    <!-- Celebration Text -->
    <a-text position="0 3.5 0" value="ðŸŽ‰ CONGRATULATIONS! ðŸŽ‰" align="center"
            color="#FFD700" scale="2 2 2" font="roboto"
            animation="property: scale; to: 2.2 2.2 2.2; dir: alternate; loop: true; dur: 1500"
            look-at="#playerCam"></a-text>

    <!-- VR Hand Controllers -->
    <a-entity id="leftHand"
              hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc"></a-entity>
    <a-entity id="rightHand"
              hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc"></a-entity>

    <!-- Player Rig -->
    <a-entity id="rig"
              position="0 1.6 6"
              movement-controls="controls: keyboard, touch"
              simple-collision>
        <a-entity id="playerCam" camera look-controls>
            <a-cursor position="0 0 -1"
                      geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                      material="color: white; shader: flat"
                      raycaster="objects: .door; showLine: true"></a-cursor>
        </a-entity>
    </a-entity>

    <!-- Floating celebration particles -->
    <a-entity id="particles" position="0 3 0"></a-entity>

    <!-- Thank you message -->
    <a-text position="0 -1 2"
            value="Thank you for testing our integrated VR prototype!\nAll individual room prototypes are now accessible above.\nThis demonstrates successful integration of all key features."
            align="center" color="#AAAAAA" scale="0.6 0.6 0.6"
            look-at="#playerCam"></a-text>

</a-scene>
</body>
</html>
